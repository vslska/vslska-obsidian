### Local values, или локальные значения
Локальные значения полезны тем, чтобы избежать повторений одних и тех же значений и выражений в конфигурации. При чрезмерном использовании можгут усложнить конфигурацию для будущего обслуживании, скрывая фактические значения.

В примере  использованы локальные значения `boot_disk_name` и `linux_vm_name` для формирования имён ресурсов, чтобы при необходимости быстро поменять эти значения. Локальное значение `labels` позволяет не указывать значения повторно в каждом ресурсе.
```hcl
locals {
  boot_disk_name      = "${var.name_prefix}-boot-disk"
  linux_vm_name       = "${var.name_prefix}-linux-vm"
 
  labels = {
      owner = "DevOps"
      env   = "dev"
  } 
}

resource "yandex_compute_disk" "boot_disk" {
  name = local.boot_disk_name

...

labels = local.labels
}

resource "yandex_compute_instance" "this" {
  name = local.linux_vm_name

...

  labels = local.labels
}

resource "yandex_vpc_subnet" "this" {
...

labels = local.labels
}
```

> [!NOTE] Важно
> Используйте локальные значения там, где это необходимо: когда одно значение или результат используется во многих местах и будет изменено в будущем. Возможность легко изменить значение в центральном месте — ключевое преимущество локальных значений.
#### Как объявлять локальные значения

Локальные значения объявляются в блоке `locals`:
```hcl
locals {
  service_name = "web-server"
  owner        = "DevOps"
}
```

Выражения в локальных значениях не ограничиваются константами.
Они могут ссылаться на другие значения в  модуле,  чтобы преобразовать или объединить эти значения ( пременные, атрибуты ресурсов или другие локальные значения). 
В локальных значениях можно использовать функции и условия:
```hcl
locals {
  function_name = coalesce(var.function_name, "${var.name_prefix}-function")
  folder_id     = var.folder_user_role_mapping == [] && var.sa_role_mapping == [] ? data.yandex_client_config.client.folder_id : var.folder_id
  
  common_labels = {
    Service = "web-server"
    Owner   = "DevOps"
  }
}
```
### Как обращаться к локальным значениям

Когда локальное значение объявлено, к нему можно обратиться с помощью выражения `local.<NAME>`:
```hcl
resource "compute_instance" "this" {
  # ...

  tags = local.common_labels
}
```

> [!NOTE] Важно
> Локальные значения создаются блоком `locals` — во множественном числе. Если вы обращаетесь к ним как к атрибутам объекта с именем `local` — в единственном числе, то убедитесь, что не добавляете **s**.
