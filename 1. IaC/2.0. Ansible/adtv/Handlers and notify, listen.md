**Handler** ‚Äî —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ç–∏–ø –∑–∞–¥–∞—á–∏, –∫–æ—Ç–æ—Ä–∞—è **–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã** , –∏ **—Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑** , –¥–∞–∂–µ –µ—Å–ª–∏ –µ—ë –≤—ã–∑–≤–∞–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑.

–û–±—ã—á–Ω–æ handler'—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è:

- –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤ (nginx, apache, mysql)
- –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å–∏—Å—Ç–µ–º
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
- –î—Ä—É–≥–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å **–æ–¥–∏–Ω —Ä–∞–∑ –ø–æ—Å–ª–µ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π**
```
---
- name: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Nginx
  hosts: webservers
  become: yes
  tasks:
    - name: –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π –∫–æ–Ω—Ñ–∏–≥ Nginx
      copy:
        src: files/nginx.conf
        dest: /etc/nginx/nginx.conf
        owner: root
        group: root
        mode: '0644'
      notify: Restart Nginx

    - name: –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å index.html
      copy:
        src: files/index.html
        dest: /var/www/html/index.html
        mode: '0644'
      notify: Restart Nginx

  handlers:
    - name: Restart Nginx
      service:
        name: nginx
        state: restarted
```

##### —á—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç:
- –ï—Å–ª–∏ **–æ–±–∞ —Ñ–∞–π–ª–∞ –±—ã–ª–∏ –∏–∑–º–µ–Ω–µ–Ω—ã** , —Ç–æ `notify: Restart Nginx` –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω –¥–≤–∞–∂–¥—ã
- –ù–æ handler `Restart Nginx` –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è **—Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑** , **–≤ –∫–æ–Ω—Ü–µ** , —á—Ç–æ–±—ã –Ω–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å —Å–µ—Ä–≤–∏—Å –ª–∏—à–Ω–∏–π —Ä–∞–∑

| –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å                                                          | –û–ø–∏—Å–∞–Ω–∏–µ                              |
| -------------------------------------------------------------------- | ------------------------------------- |
| –ó–∞–ø—É—Å–∫–∞—é—Ç—Å—è **–≤ –∫–æ–Ω—Ü–µ play**                                         | –ù–µ —Å—Ä–∞–∑—É, –∞ –ø–æ—Å–ª–µ –≤—Å–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –∑–∞–¥–∞—á |
| –í—ã–ø–æ–ª–Ω—è—é—Ç—Å—è **—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –±—ã–ª–∞ –∏–∑–º–µ–Ω–µ–Ω–∞ –∑–∞–¥–∞—á–∞ —Å notify**            | Idempotent –ø–æ–≤–µ–¥–µ–Ω–∏–µ                  |
| –í—ã–ø–æ–ª–Ω—è—é—Ç—Å—è **—Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑** , –¥–∞–∂–µ –µ—Å–ª–∏ –≤—ã–∑—ã–≤–∞–ª–∏—Å—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ | –ß—Ç–æ–±—ã –Ω–µ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏—è         |
| –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è ‚Äî –∫–∞–∫ –≤ —Å–µ–∫—Ü–∏–∏ `handlers`                         | –ê –Ω–µ –∫–∞–∫ –æ–Ω–∏ –±—ã–ª–∏ –≤—ã–∑–≤–∞–Ω—ã             |

#### –°–æ–≤–µ—Ç—ã –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é handler'–æ–≤:
- –ù–∞–∑—ã–≤–∞–π—Ç–µ handler'—ã —É–Ω–∏–∫–∞–ª—å–Ω–æ –∏ –ø–æ–Ω—è—Ç–Ω–æ
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `listen` –≤–º–µ—Å—Ç–æ `notify`, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- Handler –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±—ã–º –º–æ–¥—É–ª–µ–º: –æ—Ç `service` –¥–æ `shell`, `uri` –∏–ª–∏ `reboot`
- Handler'—ã –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Ä–æ–ª—è—Ö (–≤ —Ñ–∞–π–ª–µ `/handlers/main.yml`)

________________________________________

–ö–æ–º–∞–Ω–¥–∞ `notify` —É–∫–∞–∑—ã–≤–∞–µ—Ç Ansible **–∑–∞–ø—É—Å—Ç–∏—Ç—å handler —Å —Ç–∞–∫–∏–º –∏–º–µ–Ω–µ–º** , **—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∑–∞–¥–∞—á–∞ –ø—Ä–∏–≤–µ–ª–∞ –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—é —Å–æ—Å—Ç–æ—è–Ω–∏—è** (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ñ–∞–π–ª –±—ã–ª –∏–∑–º–µ–Ω—ë–Ω, —Å–æ–∑–¥–∞–Ω –∏–ª–∏ –æ–±–Ω–æ–≤–ª—ë–Ω).
üí° –¢–æ –µ—Å—Ç—å: `notify` ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± **—É—Å–ª–æ–≤–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏—è –≤ –æ—Ç–≤–µ—Ç –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è** –≤ –¥—Ä—É–≥–∏—Ö –∑–∞–¥–∞—á–∞—Ö.
```
- name: Copy mysite to Servers
  copy:
    src: "{{ source_folder }}/{{ item }}"
    dest: "{{ destin_folder }}"
    mode: 0555
  loop:
    - "index.html"
  notify: Restart Nginx Debian

 handlers:
  - name: Restart Nginx Debian
    systemd:
      name: nginx
      state: restarted
```

#### –í–∞–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç
Handler –±—É–¥–µ—Ç –∑–∞–ø—É—â–µ–Ω **—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∑–∞–¥–∞—á–∞, –≤—ã–∑–≤–∞–≤—à–∞—è `notify`, –∏–∑–º–µ–Ω–∏–ª–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã** .  
–ï—Å–ª–∏ —Ñ–∞–π–ª –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è ‚Äî `handler` –Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è.

#### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

1. Ansible –≤—ã–ø–æ–ª–Ω—è–µ—Ç –æ–±—ã—á–Ω—ã–µ –∑–∞–¥–∞—á–∏ (`tasks`)
2. –ï—Å–ª–∏ –∫–∞–∫–∞—è-—Ç–æ –∑–∞–¥–∞—á–∞ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å ‚Äî –æ–Ω–∞ –≤—ã–∑—ã–≤–∞–µ—Ç `notify`
3. Ansible —Å—Ç–∞–≤–∏—Ç handler –≤ –æ—á–µ—Ä–µ–¥—å
4. –í—Å–µ handlers –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è **–≤ –∫–æ–Ω—Ü–µ play** , **–ø–æ –æ–¥–Ω–æ–º—É —Ä–∞–∑—É** , **–≤ –ø–æ—Ä—è–¥–∫–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è**
